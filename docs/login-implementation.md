# 로그인 기능 구현 계획

## 개요

Login.jsx의 현재 폼 구조(`username`, `password`)를 기준으로 실제 로그인 API를 연결하여 완전한 로그인 기능을 구현합니다.

## 구현 완료 사항 ✅

### 1. API 연결

- `login` 함수를 `service/api`에서 import
- Login.jsx의 폼 구조(`username`, `password`)를 그대로 사용
- 서버로 로그인 요청 전송

### 2. 상태 관리

- `isLoading`: 로그인 진행 상태 관리
- `error`: 에러 메시지 상태 관리
- 입력 시 에러 메시지 자동 초기화

### 3. 사용자 경험 개선

- 로딩 중 입력 필드 비활성화
- 로딩 중 버튼 텍스트 변경 ("로그인 중...")
- 에러 메시지 시각적 표시
- 성공 시 메인 페이지로 자동 리다이렉트

### 4. 에러 처리

- 클라이언트 유효성 검사 (빈 필드 체크)
- 서버 응답 에러 처리
- 네트워크 에러 처리
- 사용자 친화적 에러 메시지 표시

## 구현된 로직 흐름

```javascript
1. 사용자가 폼 제출
   ↓
2. 클라이언트 유효성 검사
   ↓
3. 로딩 상태 시작 (UI 비활성화)
   ↓
4. API 호출 ({ username, password })
   ↓
5. 응답 처리:
   - 성공: 메인 페이지로 리다이렉트
   - 실패: 에러 메시지 표시
   ↓
6. 로딩 상태 종료
```

## 인증 흐름 통합

### Zustand Store 연동

- `login` API 호출 시 자동으로 Zustand store에 사용자 정보 저장
- Access Token 및 Refresh Token 자동 관리
- 전역 인증 상태 업데이트

### App.jsx의 initializeAuth와 연동

- 로그인 성공 후 새로고침 시에도 인증 상태 유지
- Header 컴포넌트에서 즉시 사용자 정보 접근 가능

## 테스트 시나리오

### 1. 정상 로그인

- [ ] 올바른 username/password 입력 → 메인 페이지 이동
- [ ] Header에 사용자 정보 표시 확인
- [ ] 새로고침 후에도 로그인 상태 유지 확인

### 2. 에러 처리

- [ ] 빈 필드 제출 → 클라이언트 에러 메시지
- [ ] 잘못된 credentials → 서버 에러 메시지
- [ ] 네트워크 에러 → 적절한 에러 메시지

### 3. UX 테스트

- [ ] 로딩 중 UI 상태 확인
- [ ] 에러 메시지 표시/숨김 동작 확인
- [ ] 입력 시 에러 메시지 자동 초기화 확인

## 다음 단계

- [ ] 실제 서버와 연동 테스트
- [ ] 에러 메시지 다국어 처리 (필요시)
- [ ] 로그인 페이지 접근 제어 (이미 로그인된 사용자)

## 기술 스택

- React Hooks (useState)
- styled-components
- React Router (useNavigate)
- Zustand (전역 상태 관리)
- Axios (HTTP 클라이언트)
