# 프로필 메뉴 구현 계획 및 진행 상황

## 프로젝트 개요

도서 구독 서비스에서 작가와 일반 사용자의 프로필 메뉴를 다르게 구성하는 기능 구현

## 요구사항 분석

### 작가 사용자 메뉴 항목

- 계정 정보 (`/account`)
- 글쓰기 (`/write`)
- 글 임시 저장 목록 (`/drafts`)
- 출간된 책 (`/published-books`)
- 최근 본 책 (`/recent-books`)
- 구매 목록 (`/purchase-history`)
- 구독 하기 (`/subscription`)
- 로그아웃

### 일반 사용자 메뉴 항목

- 계정 정보 (`/account`)
- 최근 본 책 (`/recent-books`)
- 구매 목록 (`/purchase-history`)
- 구독 하기 (`/subscription`)
- 로그아웃

## 구현 계획

### 1단계: 헤더 컴포넌트 분석 ✅

- [x] Header.jsx 구조 파악
- [x] ProfileAvatarContainer.jsx 기능 확인
- [x] ProfilePopover.jsx 현재 상태 분석
- [x] 사용자 정보에서 `is_author` 필드 확인

### 2단계: 프로필 메뉴 구현 ✅

- [x] 작가와 일반 사용자 메뉴 항목 정의
- [x] 메뉴 항목별 네비게이션 경로 설정
- [x] ProfilePopover 컴포넌트 완전 리팩토링
- [x] 사용자 정보 표시 개선 (아바타, 이름, 이메일, 작가 배지)
- [x] 메뉴 스타일링 개선 (Material Design 스타일 적용)
- [x] 로그아웃 기능 구현

### 3단계: 테스트 설정 ✅

- [x] Header.jsx에서 테스트용 작가 프로필 설정

## 구현된 기능

### ProfilePopover.jsx 주요 개선사항

1. **사용자 정보 표시**

   - 프로필 이미지, 이름, 이메일 표시
   - 작가인 경우 '작가' 배지 표시

2. **조건부 메뉴 렌더링**

   - `profile.is_author` 값에 따라 다른 메뉴 항목 표시
   - 배열 기반 메뉴 항목 관리로 유지보수성 향상

3. **네비게이션 기능**

   - React Router를 활용한 페이지 이동
   - 메뉴 클릭 시 팝오버 자동 닫힘

4. **UI/UX 개선**
   - 모던한 디자인 적용 (카드 스타일, 그림자 효과)
   - 호버 효과 및 클릭 피드백
   - 로그아웃 버튼 시각적 구분 (빨간색)

### MyPage.jsx 주요 기능

1. **계정 정보 표시**

   - 이름, 아이디, 보유 포인트 표시
   - 깔끔한 블랙 & 화이트 톤의 카드 기반 레이아웃

2. **구독 정보 관리**

   - 구독 상태 표시 (구독중/미구독)
   - 미구독 시 "구독하기" 버튼 제공

3. **작가 인증 관리**

   - 인증 상태 표시 (미인증/승인 대기/인증 완료)
   - 상태별 색상 구분 (미인증: 회색, 승인 대기: 주황색, 인증 완료: 검정)
   - 미인증 시 "작가 등록하기" 버튼 제공

4. **반응형 디자인**
   - 모바일 환경에서 버튼이 전체 너비로 확장
   - 640px 이하에서 레이아웃 최적화

## 다음 단계

### 4단계: 라우팅 설정 ✅

- [x] 계정 정보 페이지(MyPage.jsx) 컴포넌트 생성
- [x] Router.jsx에 `/account` 라우트 추가
- [ ] 나머지 메뉴 항목 페이지 생성 (예정)
- [ ] 페이지별 접근 권한 설정 (예정)

### 5단계: 실제 API 연동 (예정)

- [ ] 사용자 정보 API 연동
- [ ] 작가 권한 확인 API 연동
- [ ] 로그아웃 API 연동

### 6단계: 추가 기능 구현 (예정)

- [ ] 각 메뉴 페이지별 상세 기능 구현
- [ ] 권한별 접근 제어 구현
- [ ] 에러 처리 및 로딩 상태 추가

## 기술 스택

- React 18
- React Router v6
- Styled Components
- 프로젝트 디자인 시스템 (BDS)

## 파일 구조

```
src/
  components/
    common/
      Header/
        ├── Header.jsx              # 메인 헤더 컴포넌트
        ├── ProfileAvatarContainer.jsx  # 프로필 아바타 컨테이너
        └── ProfilePopover.jsx      # 프로필 드롭다운 메뉴 (✨ 주요 수정)
  pages/
    mypage/
      └── MyPage.jsx               # 계정 정보 페이지 (✨ 새로 추가)
  Router.jsx                       # 라우터 설정 (✨ /account 경로 추가)
```

## 테스트 방법

### 프로필 메뉴 테스트

1. 프로젝트 실행: `npm run dev`
2. 헤더 우측 프로필 아이콘 클릭
3. 현재 `is_author: false`로 설정되어 일반 사용자 메뉴 확인 가능
4. 작가 메뉴 테스트를 위해 Header.jsx에서 `is_author: true`로 변경

### MyPage 테스트

1. 프로필 메뉴에서 "계정 정보" 클릭
2. 계정 정보 페이지 (`/account`) 이동 확인
3. 기본 정보 (이름, 아이디, 포인트) 표시 확인
4. 구독 정보 및 "구독하기" 버튼 확인
5. 작가 인증 정보 및 "작가 등록하기" 버튼 확인
6. 반응형 레이아웃 테스트 (브라우저 크기 조절)
